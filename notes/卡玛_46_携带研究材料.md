# 卡玛 46 携带研究材料

## 题目链接: https://kamacoder.com/problempage.php?pid=1046

## 题目描述
小明是一位科学家，他需要参加一场重要的国际科学大会，以展示自己的最新研究成果。他需要带一些研究材料，但是他的行李箱空间有限。这些研究材料包括实验设备、文献资料和实验样本等等，它们各自占据不同的空间，并且具有不同的价值。 

小明的行李空间为 N，问小明应该如何抉择，才能携带最大价值的研究材料，每种研究材料只能选择一次，并且只有选与不选两种选择，不能进行切割。

第一行包含两个正整数，第一个整数 M 代表研究材料的种类，第二个正整数 N，代表小明的行李空间。

第二行包含 M 个正整数，代表每种研究材料的所占空间。 

第三行包含 M 个正整数，代表每种研究材料的价值。
输出一个整数，代表小明能够携带的研究材料的最大价值。
6 1
2 2 3 1 5 2
2 3 1 5 4 3

## 解题思路
- ** 方法 1 ** ：动态规划二维数组：
动态规划五部曲：
1. 确定dp数组以及下标的含义：
dp[i][j]的定义为：可选的物品有0-i，在0-i种随意搭配组合，在空间j的情况下，最大的价值。例如：dp[2][4]意思是随意搭配物品0，1，2在空间4中，最大的价值是dp[2][4]
2. 确定递推公式：
dp[i][j]有两种选择：
第一种，不放i物品进背包，那么此时它的值就是dp[i-1][j]也就是它上一格的值，也就意味着是不放i，那么最大的价值就是[i-1][j]

第二种，是放i进背包。那么此时的价值就是value[i] + dp[i-1][j-weight[i]]
这个的意思是，首先把i放进背包里了，所以，要value[i]随后，我们计算把i放进去还有多少空间，那么就是j-weight[i],然后就拿到上一行这个空间的最大值。
所以得到最后的公式
dp[i][j] = max(dp[i-1][j],value[i]+dp[i-1][j-weight[i]])
3. dp数组如何初始化：
首先要初始化最左列，因为最左列是空间为0，那么空间为0什么都放不进去，那么价值就是0.
for i in range(num):
        dp[i][0] = 0
然后初始化第一行，也就是物品0的一行。
for j in range(bagV+1):
        if j < weight[0]:
            dp[0][j] = 0
        else:
            dp[0][j] = value[0]
4. 确定遍历顺序：
从递推公式可以看出来，dp[i][j]是从上一行和左列推倒出来的，所以要先完成上面一行，和左边一列才可以推出。
5. 举例推导dp数组:
时间复杂度`O(N^2)` 
空间复杂度：`O(N^2)` 

- ** 方法 2 ** ：动态规划一维数组：
一维数组的想法就是把二维压缩了，不存储上一层的数值了，而是用滚动数组，在一个数组中进行更新。
动态规划五部曲：
1. 确定dp数组以及下标的含义：
dp[j]的定义为：空间j的最大价值是dp[j].例如：dp[2]的含义是如果背包的容量为2，那么最大的价值就是dp[2]
2. 确定递推公式：
dp[j]有两种选择：
第一种，不放i物品进背包，那么此时它的值就是dp[j]也就是它上一格的值，也就意味着是不放i，那么最大的价值就是dp[j]

第二种，是放i进背包。那么此时的价值就是value[i] + dp[j-weight[i]]
这个的意思是，首先把i放进背包里了，所以，要value[i].随后，我们计算把i放进去还有多少空间，那么就是j-weight[i].那么就是此时的最大值。例如：当放了物品1之后，那么我们要加上物品1的值，然后如果物品1的空间是2，那么j-weight[i]就是剩余空间，那么剩余空间的最大值就是dp[j]
所以得到最后的公式
dp[j] = max(dp[j],value[i]+dp[j-weight[i]])
3. dp数组如何初始化：
dp数组只需要都初始化为0即可。因为空间不能是负数，所以最小的价值也就是0.
4. 确定遍历顺序：
这个遍历顺序非常有讲究，首先要先遍历物品，再遍历包的空间。因为首先要先遍历物品是因为，如果一旦先遍历了包的空间，那么久代表着每次这个空间只能使用一个物品，而不是多个物品。其次，最重要的是包的空间遍历需要从后到前，因为如果从前往后的话，dp[2]会需要dp[1]的值，如果此时遍历的是物品0，那么物品0在dp[1]的时候就放进去一次了，在dp[2]的时候又放进一次，就不符合题目要求了。所以要从后往前遍历，因为前面还没有遍历，所以后面的值尽管加上了前面的值也没关系。
5. 举例推导dp数组:
时间复杂度`O(N^2)` 
空间复杂度：`O(N)` 


📌 [查看 Python 代码](../solutions/python/卡玛_46_携带研究材料.py)